{"ast":null,"code":"import _slicedToArray from\"/home/duckhanson/final/Logic-Gate-Generator/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import{Button}from\"react-bootstrap\";import{sendVerilogFile as sendVerilogFileApi,receiveData as receiveDataApi}from'../api/Interface';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Upload=function Upload(props){var usrId=props.usrId,setLoading=props.setLoading,setResult=props.setResult,setCurTab=props.setCurTab;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),topModule=_useState2[0],setTopModule=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),subModule=_useState4[0],setSubModule=_useState4[1];var handleSubmit=function handleSubmit(){setLoading(true);sendVerilogFileApi(usrId,{topModule:topModule,subModule:subModule}).then(function(){receiveData();setTopModule('');setSubModule('');setLoading(false);setCurTab('Result');}).catch(function(err){console.error('Error getting result',err);setTopModule('');setSubModule('');setLoading(false);});};var receiveData=function receiveData(){setLoading(true);receiveDataApi(usrId).then(function(result){setResult(result);setLoading(false);}).catch(function(err){console.error('Error getting result',err);setLoading(false);});};var handleUploadTopModule=function handleUploadTopModule(file){var subModule=document.getElementById('SubModule');var header=document.getElementById('SubModuleHeader');subModule.style.display='inline-block';header.style.display='block';setTopModule(file);};return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"div\",{id:\"main\",children:/*#__PURE__*/_jsxs(\"article\",{className:\"post featured\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"TopModule or AllinOneFile (only accept verilog file)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",id:\"TopModule\",accept:\".v, .vh, .verilog,.vlg\",onChange:function onChange(e){return handleUploadTopModule(e.target.value);},value:topModule}),/*#__PURE__*/_jsx(\"h3\",{id:\"SubModuleHeader\",children:\"Submodules\"}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",id:\"SubModule\",accept:\".v, .vh, .verilog,.vlg\",onChange:function onChange(e){return setSubModule(e.target.value);},value:subModule,multiple:true}),/*#__PURE__*/_jsx(\"h2\",{children:/*#__PURE__*/_jsx(\"br\",{})}),/*#__PURE__*/_jsx(\"div\",{className:\"Submit\",children:/*#__PURE__*/_jsx(Button,{variant:\"outline-dark\",onClick:function onClick(){return handleSubmit();},children:\"Submit\"})})]})})});};export default Upload;","map":{"version":3,"sources":["/home/duckhanson/final/Logic-Gate-Generator/client/src/components/Upload.jsx"],"names":["React","useState","Button","sendVerilogFile","sendVerilogFileApi","receiveData","receiveDataApi","Upload","props","usrId","setLoading","setResult","setCurTab","topModule","setTopModule","subModule","setSubModule","handleSubmit","then","catch","err","console","error","result","handleUploadTopModule","file","document","getElementById","header","style","display","e","target","value"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport { Button } from \"react-bootstrap\";\nimport {sendVerilogFile as sendVerilogFileApi, receiveData as receiveDataApi} from '../api/Interface'\n\nconst Upload = (props) => {\n\n    const {usrId, setLoading, setResult, setCurTab} = props;\n    const [topModule, setTopModule] = useState('');\n    const [subModule, setSubModule] = useState('');\n\n    const handleSubmit = () => {\n        setLoading(true);\n        sendVerilogFileApi(usrId, {topModule, subModule}).then(() => {\n            receiveData();\n            setTopModule('');\n            setSubModule('');\n            setLoading(false);\n            setCurTab('Result');\n        }).catch(err => {\n            console.error('Error getting result', err);\n            setTopModule('');\n            setSubModule('');\n            setLoading(false);\n        });\n\n    }\n\n    const receiveData = () => {\n        setLoading(true);\n        receiveDataApi(usrId).then(result => {\n            setResult(result);\n            setLoading(false);\n        }).catch(err => {\n            console.error('Error getting result', err);\n            setLoading(false);\n        })\n    }\n\n    const handleUploadTopModule = (file) => {\n        let subModule = document.getElementById('SubModule');\n        let header = document.getElementById('SubModuleHeader');\n        subModule.style.display = 'inline-block';\n        header.style.display = 'block';\n        setTopModule(file);\n    }\n\n    return (\n        <div>\n            {/* Main */}\n            <div id=\"main\">\n                {/* Here to Upload! */}\n                <article className=\"post featured\">\n                    <h3>TopModule or AllinOneFile (only accept verilog file)</h3>\n                    <input type=\"file\" id=\"TopModule\" accept='.v, .vh, .verilog,.vlg' onChange={(e) => handleUploadTopModule(e.target.value)} value={topModule}></input>\n                    <h3 id=\"SubModuleHeader\">Submodules</h3>\n                    <input type=\"file\" id=\"SubModule\" accept='.v, .vh, .verilog,.vlg' onChange={(e) => setSubModule(e.target.value)} value={subModule} multiple></input>\n                    <h2><br/></h2>\n                    <div className=\"Submit\">\n                        <Button variant=\"outline-dark\" onClick={() => handleSubmit()}>Submit</Button>\n                    </div>\n                </article>\n            </div>\n        </div>\n    );\n};\n\nexport default Upload;\n"]},"metadata":{},"sourceType":"module"}